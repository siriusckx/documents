## lseek函数介绍
1. 文件指针：当我们要对一个文件进行读写时，一定需要先打开这个文件，所以我们读写的文件都是动态文件。动态文件在内存中的形态就是文件流的形式，
2. 文件流很长，里面有很多个字节。那么我们当前正在操作的是哪个位置？GUI模式下的软件用光标来标识这个当前正在操作的位置，这是给人看的。
3. 在动态文件中，我们会通过文件文件指针来表征这个正在操作的位置。所谓文件指针，就是我们文件管理表这个结构体里面的一个指针。所以文件指针其实是vnode中的一个元素。这个指针表示当前我们正在操作文件流的哪个位置。这个指针不能被直接访问，linux系统用lseek函数来访问这个文件指针。
4. 当我们打开一个空文件时，默认情况下文件指针指向文件流的开。所以这个时候去write写入时就是从文件开头开始的。write和reade函数本身自带移动文件指针的功能，所以当我write了n个字节后，文件指针会自动向后移动n位。如果需要人为的随意更改文件指针，只能通过lseek这个函数来操作了。
5. read和write函数都是从当前文件指针处开始操作的，所以当我们用lseek显式的将文件指针移动后，那么再去read/write时就是从移动过后的位置开始的。
6. 回顾前面一节中我们从空文件，先write写了12字节，然后read时是空的（但是此时我们打开文件后发现12字节确实写进来了）。主要就是文件流指针移动到了最后一个位置。

## 用lseek计算文件长度
1. linux中并没有一个函数可以直接返回一个文件的长度。但是我们做项目时经常需要知道一个文件的长度。

## 用lseek构建空洞文件
1. 空洞文件就是这个文件中有一段是空的。
2. 普通文件中间是不能有空的，因为我们write时文件指针是依次从前往后去移动的，不可能绕过前面直接到后面。
3. 我们打开一个文件后，用lseek往后跳过一段，再write写入一段，就会构成一个空洞文件。
4. 空洞文件方法对多线程共同操作文件是极其有用的，有时候我们创建一个很大的文件，如果从头开始依次构建时间很长。有一种思路就是将文件分为多段，然后多线程来操作每个线程负责其中一段的写入。