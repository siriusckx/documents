## dup和dup2函数介绍

## 使用dup进行文件描述符复制
1. dup系统调用对fd进行复制，会返回一个新的文件描述符（譬如原来的fd是3，返回的就是4）
1. dup系统调用有一个特点，就是自己不能指定复制后得到的fd的数字是多少，而是由操作系统内部自动分配的，分配的原则遵守fd分配的原则。
2. dup返回的fd和oldfd都指向oldfd打开的那个动态文件，操作这两个fd实际操作的都是oldfd打开的那个文件。实际上构成了文件共享。
3. dup返回的fd和原来的oldfd同时向一个文件写入时，结果是分别写还是接续写？

## 使用dup的缺陷分析
1. dup并不能指定分配的新的文件描述符的数字，dup2系统调用修复了这个缺陷，所以平时项目中实际使用时根据具体情况来决定用dup还是用dup2.

## 练习
1. 之前讲过0、1、2这三个fd被标准输入、标准输出、错误通道占用。而且我们可以关闭这三个
2. 可以用close(1)关闭标准输出，关闭后我们printf输出到标准输出的内容就看不到了
3. 然后我们可以使用dup重新分配得到1这个fd,这时候就把oldfd打开的这个文件和我们1这个标准输出通道给绑定起来了。这就叫标准输出的重定位。
4. 可以看出，我们可以使用close和dup配合进行文件的重定位。