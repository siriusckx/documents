## 为什么要创建子进程
1. 每一次程序的运行都需要一个进程
2. 多进程实现宏观上的并行
## fork的内部原理
1. 进程的分裂生长模式。如果操作系统需要一个新进程来运行一个程序，那么操作系统会用一个现有的进程来复制生成一个新进程，老的进程称为父进程，新的进程称为子进程。
2. fork函数调用一次会返回2次，返回值等于0的就是子进程，而返回值大于0的就是父进程。
3. 调用fork的代码，在操作系统中，会有两份同时在运行。典型的使用fork的方法，使用if来判断子进程和父进程，并执行不一样的逻辑。
```
    pid_t p1 = -1;

    p1 = fork();  //返回2次

    if(p1 == 0)
    {
        //这里是一个子进程
    }

    if(p1 > 0)
    {
        //这里是一个父进程
    }

    if(p1 < 0)
    {
        //创建子进程出现错误
    }
```
4. 如果父进程死了，父进程会将子进程的父进程权限移交给操作系统的init进程。


## 关于子进程
1. 子进程和父进程的关系：子进程被创建出来后，基本没关了
2. 子进程有自己独立的PCB
3. 子进程被内核同等调度