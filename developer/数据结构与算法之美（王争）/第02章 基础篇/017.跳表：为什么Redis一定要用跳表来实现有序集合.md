> 实际上，我们只需要对链表稍加改造，就可以支持类似“二分”的查找算法。我们把改造之后的数据结构叫做跳表（Skip list）。它是一种各方面性能比较优秀的`动态数据结构`，可以支持快速的插入、删除、查找操作、写起来也不复杂，甚至可以替代`红黑树（Red-black tree）`。

> Redis 中的有序集合（Sorted Set）就是用跳表来实现的。如果你有一定基础，应该知道红黑树也可以实现快速的插入、删除和查找操作。那么 Redis 为什么会选择用跳表来实现有序集合呢？

# 1 如何理解“跳表”？

> 在链表的基础上，增加多层索引的这种结构，就叫做跳表。

# 2 用跳表查询到底有多快？

> 时间复杂度能够做到O(logn)，索引层级越多，查找的效率越快。不过索引会占不少的空间，不过相对存储对象数据来说，这点空间便不值一提了。

# 3 高效的动态插入和删除

> 跳表支持动态的插入、删除操作，其时间复杂度也是O(logn),在单链表中，插入结点的时间复杂度是很低的，就是O(1)，但是，为了保证原始链表中数据的有序性，我们需要先找到要插入的位置，这个查找操作会比较耗时O(logn)。

# 4 跳表索引动态更新

> 随着跳表中数据不断插入，如果不更新索引，则跳表时间复杂度可能退化，查找、插入、删除操作性能下降，极端情况下，跳表还会退化成单链表。可以通过随机函数来维护索引与原始链表大小之间的平衡性，就像平衡二叉树，通过左右旋的方式保持左右子树的大小平衡。

# 5 解答开篇

> Redis 中的有序集合支持的核心操作主要有下面这几个：
* 插入一个数据；
* 删除一个数据；
* 查找一个数据；
* 按照区间查找数据（比如查找值在[100, 356]之间的数据）；
* 迭代输出有序序列。

> 其中，插入、删除、查找以及迭代输出有序序列这几个操作，红黑树也可以完成，时间复杂度跟跳表也是一样的。但是，按照区间来查找数据这个操作，红黑树的效率没有跳表高。

> 相对来说，跳表的实现比红黑树要简单一些。不过，跳表也不能完全替代红黑树。因为红黑树比跳表的出现要早一些，很多编程语言中的Map类型都是通过红黑树来实现的。


