# 1 计算机的工作模式是什么样的？
## 1.1 概述
![计算机硬件架构图](./../img/计算机硬件架构图.jpeg)

>`CPU`是计算机最核心的部分，通过**总线(Bus)**和其他设备连接，这些设备中，最重要的是 **内存（Memory）**

> 单靠 `CPU` 是没办法完成计算任务的，很多复杂的计算任务都需要将中间结果保存下来，然后基于中间结果进行进一步的计算。`CPU`本身没办法保存这么多中间结果，这就要依赖内存。

## 1.2 CPU 和 内存是如何配合工作的？
>`CPU`由 **运算单元**、**数据单元**、**控制单元** 组成
1. 运算单元只管算，如：加法、位移等。
2. 数据单元包括 CPU 内部的缓存和寄存器组，空间很小，速度飞快，要以暂时存放数据和运算结果。
   >运算单元计算的数据如果每次都要经过总结，到内存里面现拿，这样就太慢了。
3. 控制单元是一个统一的指挥中心，它可以获得一下条指令，然后执行这条指令。
   >有了放数据的地方，也有了算的地方，还需要有个指挥到底做什么运算的地方，这就是控制单元。

![CPU内存协作图](../img/CPU内存协作图.jpeg)

>每个进程都有一个程序放在硬盘上，是二进制的，再里面就是一行行一指令，会操作一些数据。

>进程一旦运行，会有独立的内存空间，互相隔离，程序会分别加载到进程各自的内存空间里面，形成各自的代码段。

4. CPU 怎么执行这些程序，操作这些数据，产生一些结果，并写入回内存呢？
   >CPU 的控制单元里面，有一个指令指针寄存器，它里面存放的是下一条指令在内存中的地址。控制单元会不停地将代码段的指令拿进来，先放入指令寄存器。

   >指令分两部分，一部分是做什么操作，另一部分是操作哪结数据。要执行这些指令，要把第一部分交给运算单元，第二部分交给数据单元。

5. 总线的概念
   >CPU和内存传数据，靠的都是总结，其实总线主要有两类数据，一个是地址数据，也就是我想拿内存中哪个位置的数据，这类总线叫**地址总线（Address Bus）**。另一类是真正的数据，这类总结叫**数据总线（Data Bus）**。

   >总线其实有点像连接 CPU 和 内存这两个设备的高速公路，说总线到底是多少位，就类似说高速公路有几个车道。

   >地址总线的位数，决定了能访问的地址范围到底有多广。而数据总线的位数，决定了一次能拿多少个数据进来。

# 2 8086处理器原理